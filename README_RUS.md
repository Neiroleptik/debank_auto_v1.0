Софт для автоматизации взаимодействия с сайтом debank.com
=========================================================
**author: tg @jero1n**

**База Данных - далее БД.*

Функции:
--------
        func: auth
        info: Setup MetaMask --> Auth on Debank.com

        func: registerL2
        info: Register L2 Debank account on BSC Chain ONLY for now.
        
        func: new_post
        info: Auto-posting.
        
        func: trust_comment() / tr_com_fol_hot()
        info: Without scrolling web-page...
              Trust available posts in link.
              (comment) Comment available posts in link.
              (follow) Following.

        func: vote
        info: Parse links to voting if they don`t voted. Get pages and Voting.

Возможности:
------------
1. **Аутентификация в MetaMask.**          
2. **Смена сети на BSC Chain.**            
3. **Аутентификация на сайте Debank.com.** 
4. **Проверка баланса и наличия L2, и выполнение действий при соответствующих условиях.**
5. **Сохранение ссылки на Stream нынешнего аккаунт в БД.**
6. **Регистрация аккаунта L2 Debank, если он не зарегистрирован.**
7. **Публикация поста с помощью составления предложений из 4-6 рандомно выбранных слов/словосочетаний.**
8. **Переход по ссылкам из БД, кроме ссылки на нынешний аккаунт. Выполнение действий 'follow', 'trust', 'comment'.**  
   8.1 'trust' и 'comment' делаются только для первого на странице поста (последний опубликованный).  
   8.2 Текст для комментария выбирается рандомно, состоит из 1-2 слов.
9. **Переход в раздел Stream/Hot. Выполнение действий 'follow', 'trust', 'comment'.**  
    9.1 'trust' и 'comment' делаются только для видимых на странице постов, 'follow' так же делается для всех найденных кнопок.
10. **Переход в Vote.** **Парсинг ссылок и голосование.**  
    10.1 Ссылки парсятся только те в которых вы еще не голосовали.  
    10.2 Кол-во голосований вы можете прописать сами (LINKS_COUNT).  
    10.3 Не забудьте о настройке времени для работы парсера (WORK_TIME).  
    10.4 После окончания парсинга, происходит переход по ссылкам и нажатие кнопки Vote.  
11. **Переход к следующему аккаунту и повторение всех пунктов до выполнения последнего доступного аккаунта в БД.**

Предварительные требования:
---------------------------
1. **Установите Python версии 3.9+.**  
2. **Установите виртуальное окружение venv.**  
   2.1 Рекомендуется использовать PyCharm Community Edition для удобства.  
3. **Установите [Git](https://git-scm.com/book/ru/v2/%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-Git).**
4. **Установите Google Chrome и ChromeDriver.**  
   3.1 Убедитесь что версии Google Chrome и ChromeDriver совпадают. Поместите его в окружении проекта в папку 'chromedriver'.  
   3.2 [Ссылка для скачивания ChromeDriver](https://googlechromelabs.github.io/chrome-for-testing/)  
5. **Установите необходимые библиотеки с помощью команды:**  
```python
   pip install -r requirements.txt
```
5. **Установите библиотеку auto-metamask с помощью команды:**
```python
   pip install git+https://github.com/Neiroleptik/auto-metamask.git
```
6. **Mnemonic Phrase от вашего кошелька должна состоять из 12 слов!**
7. **Вам нужно получить API-Key сервиса решения каптч от anti-captcha.com.**
8. **Если после создания какого либо файла не требующегося для работы проекта у Вас возникают ошибки, переименуйте его, либо переместите вне окружения.**
9. **Во время работы софта НЕ ТРОГАЙТЕ мышку, клавиатуру, не изменяйте разрешение браузера.**  
    9.1 Базовое разрешение браузера == на весь экран, если ваш монитор имеет разрешение меньше, чем 1920х1080 - могут возникнуть ошибки.
10. **На всех аккаунтах должны быть средства или транзакции в BSC, хоть 0.00001 BNB. Если вы хотите, чтобы аккаунты успешно регистрировали L2, на них вам понадобится ~0.16$ в $BNB.** 

Настройка окружения:
--------------------
1.**Поместите свои Mnemonic Phrase построчно в файле mnemonics.txt.**  
   1.1 Если ее нет, создайте в ГЛАВНОЙ ДИРЕКТОРИИ ОКРУЖЕНИЯ (в папке, где находятся все остальные файлы проекта).  
   
2. **Запустите скрипт 'txt_to_bd.py'.**

   2.1 Он перенесет ваши Mnemonic Phrase из mnemonics.txt в БД - 'accounts.db'.

   2.2 **НЕ ИСПОЛЬЗОВАТЬ ДВАЖДЫ ДЛЯ ОДНИХ И ТЕХ ЖЕ MNEMONIC PHRASE!**  

3. **Вы можете использовать Proxy, НО ТОЛЬКО которые работают с переадрессацией**.

   3.1 То есть в вашем сервисе должна быть доступна переадрессация, чтобы можно было использовать Proxy без Логина и Пароля.  

4. **Вы можете использовать Tor Proxy.**  

   4.1 Зайди в библиотеку auto-metamask => файл 'core.py'.  
   
   4.2 Найдите задокументированную строчку:
```python
   options.add_argument("--proxy-server=socks5://127.0.0.1:9050")
```
   4.3 Выведите его из под комментария.  
   
   4.4 Для его работы требуется скачать Tor Expert Bundle (по ссылке)[https://www.torproject.org/download/tor/], разархивировать и запустить файл 'tor'.  
   
**Переменные которые доступны для изменений:**
-------------------------------------------------
**Все они находятся в самом низу файла debank.py*

1. **API_KEY = ''**
> API-key anti-captcha.com. Введите свой API-KEY. Сумма на балансе зависит от объема ваших аккаунтов. Советую 2-3$ - хватит надолго.

2. **CHAIN_ID = 1**                   
> Chain ID (Basic = 1 -- BSC Chain) DON`T TOUCH. Пока что доступно для выбора только BSC Chain -- **1**. Комиссия за регистрацию в L2 ~ 0.15$.  
   
3. **LINKS_COUNT = 15**               
> vote(links_count, ..). Кол-во ссылок для голосования до достижения которого будут искаться доступные голосования.  
   
4. **WORK_TIME = 15**                 
> vote(.., work_time). Время работы парсера. Если вы задали слишком большое LINKS_COUNT, а времени недостаточно, он закончит парсинг спустя это время, несмотря на значение LINKS_COUNT.  
   
5. **SCROLL_PAUSE_TIME = 4**          
> Время паузы перед следующей перемоткой вниз. Не убавлять!  
   
6. **SLEEP_BEFORE_CONFIRM_LOAD = 15** 
> Can change 8 - 15 sec, lower is dangerous. Изменяйте до 8, если скорость подключения к сети отличная и загруженность ЦП малая. В ином случае стоит увеличивать.  
   
7. **SLEEP_AFTER_VERIFY_CLICK = 15**  
> Can change 8 - 15 sec, lower is dangerous. Изменяйте до 8, если скорость подключения к сети отличная и загруженность ЦП малая. В ином случае стоит увеличивать.  
   
8. **Вы можете изменить стандартный пароль от кошелька на свое усмотрение**. 

> В файле 'debank.py' в функции "auth()" => строчка: setupMetamask(mnemonic, 'your_password').

9. **Вы можете изменить словарь слов для постов и комментариев при желании.**
> Если хотите заменить только слова для комментариев, можете добавлять или удалять построчно, подойдут как слова так и словосочетания.


Запуск скрипта:
---------------
1. **Запустите скрипт командой:**
```python
   python debank.py # или из IDE.
```

